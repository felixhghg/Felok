<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Felok</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="background"></div>

  <div class="brand">
    <img src="assets/logo.png" alt="Felok">
  </div>

  <div class="spec">
    <img src="assets/ub.png" alt="Userbot">
  </div>

  <div class="side-panel" id="panel">


    <div class="screen active" id="welcome">
      <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h2>
      <button onclick="showForm()">–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ</button>
    </div>

    <div class="screen" id="password-form">
      <div class="field">
        <span class="icon">‚òÅÔ∏è</span>
        <input type="password"
               placeholder="–û–±–ª–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å"
               autocomplete="off"
               id="password">
      </div>

      <button onclick="sendPassword()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
    </div>

    <div class="screen" id="code-form">
        <div class="field">
            <span class="icon">üîê</span>
            <input type="text" placeholder="–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è" autocomplete="off" id="code">
        </div>
        <button onclick="sendCode()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
    </div>

    <div class="screen" id="form">
      <div class="field">
        <span class="icon">üîë</span>
        <input type="text" placeholder="API Id" autocomplete="off" id="ai">
      </div>

      <div class="field">
        <span class="icon">üß¨</span>
        <input type="password" placeholder="API Hash" autocomplete="off" id="ah">
      </div>

      <div class="field">
        <span class="icon">üì±</span>
        <input type="tel" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" autocomplete="off" id="p">
      </div>

      <button onclick="sendcr()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
    </div>

  </div>


  <div class="instruction-panel" id="instruction">
    <h2>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å API ID –∏ API Hash</h2>
    <p>1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ <a href="https://my.telegram.org" target="_blank">my.telegram.org</a> –∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç.</p>
    <p>2. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª <strong>API development tools</strong>.</p>
    <p>3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–æ–≤–æ <strong>Userbot</strong>.</p>
    <p>4. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ <strong>API ID</strong> –∏ <strong>API Hash</strong>.</p>
  </div>

  <script>
    function showForm() {

        const panel = document.getElementById("panel");
        const welcome = document.getElementById("welcome");
        const form = document.getElementById("form");
        const instruction = document.getElementById("instruction");

        welcome.classList.remove("active");
        form.classList.add("active");

        panel.classList.add("move-left");

        instruction.classList.add("show");
    }

    function sendcr() {
        const panel =document.getElementById("form");
        const ai = document.getElementById("ai").value.trim();
        const ah = document.getElementById("ah").value.trim();
        const p = document.getElementById("p").value.trim();

        if (!ai || !ah || !p) {
            alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è");
            return;
        }

        fetch("/", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                api_id: ai,
                api_hash: ah,
                phone: p
            })
        }).then(res => res.text())
            .then(data => {
                if (data === "code") {
                    CodeStep();
                }
            })
    }

    function CodeStep() {
      const bg = document.querySelector(".background");
      const form = document.getElementById("form");
      const codeForm = document.getElementById("code-form");
      const instruction = document.getElementById("instruction");

      bg.classList.add("step2");

      form.classList.remove("active");
      codeForm.classList.add("active");

      instruction.innerHTML = `
        <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—Ö–æ–¥–∞</h2>
        <p>
          Telegram –æ—Ç–ø—Ä–∞–≤–∏–ª –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç.
        </p>
        <p>
          –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç —Å–ª—É–∂–µ–±–Ω–æ–≥–æ —á–∞—Ç–∞ —Å –Ω–æ–º–µ—Ä–æ–º <strong>42777</strong>.
        </p>
        <p>
          –í–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
        </p>
      `;
    }

    function twa() {
      const codeForm = document.getElementById("code-form");
      const passForm = document.getElementById("password-form");
      const instruction = document.getElementById("instruction");

      codeForm.classList.remove("active");
      passForm.classList.add("active");

      instruction.innerHTML = `
        <h2>–û–±–ª–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å</h2>
        <p>
          –î–ª—è –≤—Ö–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è <strong>–¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</strong>.
        </p>
        <p>
          –í–≤–µ–¥–∏—Ç–µ –æ–±–ª–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç –≤–∞—à–µ–≥–æ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞.
        </p>
      `;
    }

    function sendPassword() {
      const password = document.getElementById("password").value.trim();

      if (!password) {
        alert("–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å");
        return;
      }

      fetch("/p", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          password: password
        })
      })
      .then(res => res.text())
      .then(data => {
        if (data === "done") {
          window.location.href = "/d";
        }
        if (data === "incorrect") {
          document.getElementById("password-form").classList.add("inc");
        }
      });
    }

    function sendCode() {
        const code = document.getElementById("code").value.trim();

        fetch("/c", {
            method:"POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                code: code
            })
        }).then(res => res.text()).then(data => {
            if (data === "done") {
                window.location.href = "/d";
            }
            if (data === "password") {
                twa();
            }
            if (data === "incorrect") {
                const cf = document.getElementById("code-form");
                cf.classList.add("inc")
            }
        })

    }


  </script>

</body>
</html>
